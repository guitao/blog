(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-deed965c"],{"0676":function(t,e,a){},"2e8a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ComTablePage"},[a("ComTable",{attrs:{tableData:t.dataList,tableColumns:t.columns,loading:t.tableLoading,pageOptions:t.pageOtion},on:{deleteRow:t.deleteRowData,changepage:t.CPage,changePageSize:t.CPageSize}})],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ComTable"},[a("div",{staticClass:"con-row cond-wrap"},[a("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1),a("Table",{attrs:{columns:t.tableColumns,data:t.tableData,height:t.tableHeight,stripe:t.tableOptions.stripe,border:t.tableOptions.border,loading:t.loading,"disabled-hover":t.tableOptions["disabled-hover"],"highlight-row":t.tableOptions["highlight-row"],size:t.tableOptions.size},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,o=e.index;return[a("Button",{staticClass:"mr-10",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.editRow(i)}}},[t._v("修改")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteRow(o)}}},[t._v("删除")])]}}])}),a("div",{staticClass:"con-row page-tool-box"},[a("Page",{attrs:{total:t.pageOptions.total,"page-size":t.pageOptions.pageSize,"show-sizer":"","show-total":""},on:{"on-change":t.changepage,"on-page-size-change":t.changePageSize}})],1),a("Modal",{attrs:{title:t.modalTitle,width:t.addModalOptions.width,closable:t.addModalOptions.closable,"mask-closable":t.addModalOptions["mask-closable"],draggable:t.addModalOptions["draggable"],mask:t.addModalOptions["mask"],"ok-text":t.okTextModal},on:{"on-ok":t.save},model:{value:t.isShowModal,callback:function(e){t.isShowModal=e},expression:"isShowModal"}},[a("div",{staticClass:"add-modal"})])],1)},l=[],s={name:"ComTable",props:{loading:{type:Boolean,default:!1},tableData:{type:Array,default:function(){return[]}},tableColumns:{type:Array,default:function(){return[]}},tableOptions:{type:Object,default:function(){return{stripe:!1,border:!0,"disabled-hover":!1,"highlight-row":!1,size:"default"}}},pageOptions:{type:Object,default:function(){return{total:0,pageSize:20}}},addModalOptions:{type:Object,default:function(){return{width:"900px",closable:!0,"mask-closable":!0,draggable:!1,mask:!0}}}},data:function(){return{isShowModal:!1,modalTitle:"新增",okTextModal:"增加",tableHeight:window.innerHeight-250}},computed:{},mounted:function(){var t=this;window.onresize=function(){return function(){t.tableHeight=window.innerHeight-250}()}},methods:{add:function(){this.isShowModal=!0,this.modalTitle="新增",this.okTextModal="增加"},save:function(){},editRow:function(t){this.isShowModal=!0,this.modalTitle="修改",this.okTextModal="修改"},deleteRow:function(t){this.$emit("deleteRow",t)},changepage:function(t){this.$emit("changepage",t)},changePageSize:function(t){this.$emit("changePageSize",t)}}},d=s,c=(a("c9d3"),a("5d22")),r=Object(c["a"])(d,n,l,!1,null,"b46653e2",null),u=r.exports,g={name:"ComTablePage",components:{ComTable:u},data:function(){return{pageOtion:{total:0,pageSize:20,dataCount:0,pageCurrent:1},tableLoading:!1,columns:[{title:"姓名",key:"userId"},{title:"年龄",key:"id"},{title:"地址",key:"title"},{title:"操作",slot:"action",width:150,align:"center"}],dataList:[],allDataList:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.tableLoading=!0,fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return t.json()})).then((function(e){t.tableLoading=!1,t.allDataList=JSON.parse(JSON.stringify(e)),t.pageOtion.total=t.allDataList.length,t.dataList=t.allDataList.slice(0,t.pageOtion.pageSize)}))},deleteRowData:function(t){var e=this;this.$Modal.confirm({title:"确认要删除该条数据？",content:"",onOk:function(){e.dataList.splice(t,1),e.$Message.success("删除成功")},onCancel:function(){e.$Message.info("操作已取消")}})},CPage:function(t){var e=(t-1)*this.pageOtion.pageSize,a=t*this.pageOtion.pageSize;this.dataList=this.allDataList.slice(e,a),this.pageOtion.pageCurrent=t},CPageSize:function(t){this.pageOtion.pageSize=t}}},p=g,h=(a("5403"),Object(c["a"])(p,i,o,!1,null,"d6a0b55e",null));e["default"]=h.exports},5403:function(t,e,a){"use strict";a("0676")},5810:function(t,e,a){},c9d3:function(t,e,a){"use strict";a("5810")}}]);